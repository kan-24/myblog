import{O as a,P as m,Q as o}from"./index-B5S0Oh91.js";async function e(t){const s=await fetch(t);if(!s.ok)throw new Error(`Failed to load ${t}`);return await s.json()}async function i(){return e("/data/comments.json")}async function c(){return e("/data/visitors.json")}const d=a("comments",{state:()=>({comments:m("comments",[]),loaded:!1}),actions:{async ensureLoaded(){this.loaded||(this.comments.length||(this.comments=await i(),o("comments",this.comments)),this.loaded=!0)},add(t){this.comments.push(t),o("comments",this.comments)}},getters:{byPost:t=>s=>t.comments.filter(n=>n.postId===s)}});export{c as l,d as u};
